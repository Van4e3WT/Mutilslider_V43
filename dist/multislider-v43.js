(()=>{"use strict";const e=function(){function e(){this.events={}}return e.prototype.on=function(e,t){return(this.events[e]||(this.events[e]=[])).push(t),this},e.prototype.emit=function(e,t){(this.events[e]||[]).slice().forEach((function(e){return e(t)}))},e}();var t,i=(t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,i)},function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)});function s(e,t){return[t,e]}var a=function(e){function t(t){var i,a=e.call(this)||this,l=t.value1,n=t.value2;return a.min=t.min,a.max=t.max,a.step=t.step,l>n&&(l=(i=s(l,n))[0],n=i[1]),a.thumbs=[],a.thumbs.push({min:a.min,max:n,value:a.min}),a.thumbs.push({min:l,max:a.max,value:a.max}),a.setValue({val1:l,val2:n},!1),a}return i(t,e),t.prototype.getMin=function(){return this.min},t.prototype.getMax=function(){return this.max},t.prototype.getValue=function(){return this.thumbs},t.prototype.setValue=function(e,t){var i;void 0===t&&(t=!0);var a=e.val1,l=e.val2;(a=null!=a?a:this.thumbs[0].value)>(l=null!=l?l:this.thumbs[1].value)&&(a=(i=s(a,l))[0],l=i[1]),t&&(a=Math.round(a/this.step)/(1/this.step),l=Math.round(l/this.step)/(1/this.step)),a=a<this.min?this.min:a,l=l>this.max?this.max:l,this.thumbs[0].value=a,this.thumbs[0].max=l,this.thumbs[1].value=l,this.thumbs[1].min=a,this.emit("valueChanged",{value1:a,value2:l})},t}(e),l=function(e){function t(t){var i=e.call(this)||this;return i.thumbs=[],i.step=t.step,i.thumbs.push({min:t.min,max:t.max,value:(t.max-t.min)/2}),i.setValue({val1:t.value1},!1),i}return i(t,e),t.prototype.getMin=function(){return this.thumbs[0].min},t.prototype.getMax=function(){return this.thumbs[0].max},t.prototype.getValue=function(){return this.thumbs},t.prototype.setValue=function(e,t){void 0===t&&(t=!0);var i=e.val1;null!=i&&(t&&(i=Math.round(i/this.step)/(1/this.step)),i=(i=i>this.thumbs[0].max?this.thumbs[0].max:i)<this.thumbs[0].min?this.thumbs[0].min:i,this.thumbs[0].value=i),this.emit("valueChanged",{value1:e.val1})},t}(e),n=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}();const u=function(e){function t(t,i,s){var a=e.call(this)||this;a.model=t,a.outputValues=[],a.outputValuesHided=[],a.sliderThumbs=[],a.sliderScale=[],a.isPopUp=s.popUpOfValue,"vertical"===s.orientation?(i.classList.add("vertical"),a.axis={sizeParent:"height",styleSelector:"bottom"}):a.axis={sizeParent:"width",styleSelector:"left"};var l=document.createElement("div");l.classList.add("multislider-v43-header"),i.appendChild(l);var n=document.createElement("div");if(n.classList.add("multislider-v43-header__description"),n.innerText=s.description,l.appendChild(n),!a.isPopUp){var u=document.createElement("div");u.classList.add("multislider-v43-header__output"),l.appendChild(u);var r=document.createElement("input");r.type="number",r.classList.add("multislider-v43-header__value"),r.value=""+s.minValue,u.appendChild(r),a.outputValues.push(r);var o=document.createElement("span");if(o.classList.add("multislider-v43-header__value-hided"),u.appendChild(o),a.outputValuesHided.push(o),2===t.getValue().length){var d=document.createElement("div");d.classList.add("multislider-v43-header__spacer"),d.innerText=" – ",u.appendChild(d);var p=document.createElement("input");p.type="number",p.classList.add("multislider-v43-header__value"),p.value=""+s.maxValue,u.appendChild(p),a.outputValues.push(p);var h=document.createElement("span");h.classList.add("multislider-v43-header__value-hided"),u.appendChild(h),a.outputValuesHided.push(h)}}var c=document.createElement("div");c.classList.add("multislider-v43-body"),i.appendChild(c),a.parentThumbs=c;for(var m=0;m<t.getValue().length;m+=1){var v=document.createElement("div");if(v.classList.add("multislider-v43-body__thumb"),c.appendChild(v),a.sliderThumbs.push(v),a.isPopUp){var f=document.createElement("input");f.type="number",f.readOnly=!0,f.classList.add("multislider-v43-body__popup"),c.appendChild(f),a.outputValues.push(f);var b=document.createElement("span");b.classList.add("multislider-v43-body__popup-hided"),c.appendChild(b),a.outputValuesHided.push(b)}}if(a.thumbSize=parseInt(getComputedStyle(a.sliderThumbs[0]).width,10),s.isProgressBar&&(a.sliderRange=document.createElement("div"),a.sliderRange.classList.add("multislider-v43-body__range"),c.appendChild(a.sliderRange)),s.scaleOfValues){var y;y=s.scaleOfValues<3?3:s.scaleOfValues;var V=document.createElement("div");V.classList.add("multislider-v43-body__scale"),c.appendChild(V),a.renderScale(y,V)}return a.outputValues.forEach((function(e,t){a.outputValues[t].addEventListener("input",(function(){var e=a.outputValues[t].value;e&&(a.outputValuesHided[t].innerText=e,a.outputValues[t].style.width=a.outputValuesHided[t].offsetWidth+"px")}))})),a.update(),a}return n(t,e),t.prototype.getThumbSize=function(){return this.thumbSize},t.prototype.getAxis=function(){return"height"===this.axis.sizeParent?"Y":"X"},t.prototype.update=function(){var e=this,t=this.model.getValue(),i=this.parentThumbs.getBoundingClientRect()[this.axis.sizeParent]-this.thumbSize;this.sliderThumbs.forEach((function(s,a){var l=i*((t[a].value-e.model.getMin())/(e.model.getMax()-e.model.getMin()))-parseInt(getComputedStyle(e.parentThumbs).borderWidth,10);e.sliderThumbs[a].style[e.axis.styleSelector]=l+"px",e.outputValues[a].value=""+t[a].value,e.outputValuesHided[a].innerText=e.outputValues[a].value,e.outputValues[a].style.width=e.outputValuesHided[a].offsetWidth+"px",e.isPopUp&&(e.outputValues[a].style[e.axis.styleSelector]=l+e.getThumbSize()/2+"px")})),this.sliderRange&&(1===this.sliderThumbs.length&&(this.sliderRange.style[this.axis.sizeParent]=parseInt(this.sliderThumbs[0].style[this.axis.styleSelector],10)+this.thumbSize/2+"px"),2===this.sliderThumbs.length&&(this.sliderRange.style[this.axis.styleSelector]=parseInt(this.sliderThumbs[0].style[this.axis.styleSelector],10)+this.thumbSize/2+"px",this.sliderRange.style[this.axis.sizeParent]=parseInt(this.sliderThumbs[1].style[this.axis.styleSelector],10)-parseInt(this.sliderThumbs[0].style[this.axis.styleSelector],10)+"px"))},t.prototype.renderScale=function(e,t){for(var i=0;i<e;i+=1){var s=document.createElement("div");s.classList.add("multislider-v43-body__scale-division"),this.sliderScale.push(s),t.appendChild(s)}this.updateScale()},t.prototype.updateScale=function(){for(var e=this.sliderScale.length,t=this.parentThumbs.getBoundingClientRect()[this.axis.sizeParent]-this.thumbSize,i=0;i<e;i+=1){var s=i/(e-1);this.sliderScale[i].style[this.axis.styleSelector]=s*t+(this.thumbSize/2-parseInt(getComputedStyle(this.parentThumbs).borderWidth,10))+"px";var a=this.model.getMax()-this.model.getMin();this.sliderScale[i].innerHTML=(""+(+(a*s).toFixed(12)+this.model.getMin())).replace(".",",")}},t}(e);var r,o=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}();const d=function(e){function t(t,i){var s=e.call(this)||this;return s.model=t,s.view=i,"Y"===i.getAxis()?s.axis={eventAxis:"pageY",sizeParent:"height",dPos:-1}:s.axis={eventAxis:"pageX",sizeParent:"width",dPos:1},s.model.on("valueChanged",s.view.update.bind(s.view)),window.addEventListener("resize",s.view.update.bind(s.view)),window.addEventListener("resize",s.view.updateScale.bind(s.view)),document.addEventListener("DOMContentLoaded",s.view.update.bind(s.view)),document.addEventListener("DOMContentLoaded",s.view.updateScale.bind(s.view)),s.view.sliderThumbs.forEach((function(e,t){s.view.sliderThumbs[t].addEventListener("pointerdown",(function(e){return s.addMouseListener(t,e)}))})),s.view.outputValues.forEach((function(e,t){s.view.outputValues[t].addEventListener("change",(function(){var e=s.view.outputValues[t].value;e&&(0===t?s.model.setValue({val1:+e}):s.model.setValue({val2:+e}))}))})),i.sliderScale.length&&i.sliderScale.forEach((function(e){e.addEventListener("click",(function(){var t=+e.textContent.replace(",",".");2===s.model.getValue().length&&Math.abs(t-s.model.getValue()[1].value)<Math.abs(t-s.model.getValue()[0].value)?s.model.setValue({val2:t},!1):s.model.setValue({val1:t},!1)}))})),s}return o(t,e),t.prototype.addMouseListener=function(e,t){var i=this,s=t[this.axis.eventAxis],a=this.model.getValue()[e].value;document.addEventListener("pointermove",r=function(t){var l=(t[i.axis.eventAxis]-s)*i.axis.dPos/(i.view.parentThumbs.getBoundingClientRect()[i.axis.sizeParent]-i.view.getThumbSize())*(i.model.getMax()-i.model.getMin())+a;0===e?i.model.setValue({val1:l}):1===e&&i.model.setValue({val2:l})}),document.addEventListener("pointerup",this.removeMouseListener)},t.prototype.removeMouseListener=function(){document.removeEventListener("pointermove",r),document.removeEventListener("pointerup",this.removeMouseListener)},t}(e);!function(e){e.fn.multislider=function(t){var i,s,n,r,o,p,h,c,m,v,f,b,y={minValue:null!==(i=t.minValue)&&void 0!==i?i:0,maxValue:null!==(s=t.maxValue)&&void 0!==s?s:1e3,step:null!==(n=t.step)&&void 0!==n?n:1,value1:null!==(r=t.value1)&&void 0!==r?r:t.minValue,value2:null!==(o=t.value2)&&void 0!==o?o:t.maxValue,orientation:null!==(p=t.orientation)&&void 0!==p?p:"horizontal",sliderType:null!==(h=t.sliderType)&&void 0!==h?h:"solo",popUpOfValue:null!==(c=t.popUpOfValue)&&void 0!==c&&c,scaleOfValues:null!==(m=t.scaleOfValues)&&void 0!==m?m:0,isProgressBar:null===(v=t.isProgressBar)||void 0===v||v,description:null!==(f=t.description)&&void 0!==f?f:"Range Slider"},V=this[0];if(0===this.length)throw new Error("Not found element for initialization");if(V.childElementCount)for(;V.firstChild;)V.removeChild(V.firstChild);V.classList.contains("multislider-v43")||V.classList.add("multislider-v43"),V.classList.remove("vertical");var x={min:y.minValue,max:y.maxValue,step:y.step,value1:y.value1};switch(y.sliderType){case"solo":b=new l(x);break;case"double":x.value2=y.value2,b=new a(x);break;default:throw new Error("Undefined type slider")}var g=new u(b,V,y);new d(b,g),e.fn.multislider.value=function(e){return b.setValue({val1:e.val1,val2:e.val2}),b.getValue()}}}(jQuery),$(".multislider-v43.double.slider-1").multislider({minValue:5e3,maxValue:15e3,step:100,value1:7500,value2:1e4,orientation:"vertical",sliderType:"double",popUpOfValue:!0,scaleOfValues:11,isProgressBar:!0,description:"Вертикальный слайдер"}),$(".multislider-v43.double.slider-2").multislider({minValue:-1,maxValue:1,step:1e-4,value1:.1,value2:.8,orientation:"horizontal",sliderType:"double",popUpOfValue:!1,scaleOfValues:9,isProgressBar:!1,description:"Горизонтальный слайдер"}),$(".multislider-v43.solo.slider-3").multislider({minValue:-100,maxValue:150,step:10,value1:100,orientation:"vertical",sliderType:"solo",popUpOfValue:!1,scaleOfValues:11,isProgressBar:!0,description:"Одиночный вертикальный слайдер"}),$(".multislider-v43.solo.slider-4").multislider({minValue:-5,maxValue:5,step:.5,value1:1,orientation:"horizontal",sliderType:"solo",popUpOfValue:!0,scaleOfValues:0,isProgressBar:!1,description:"Одиночный горизонтальный слайдер"})})();