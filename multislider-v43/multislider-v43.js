(()=>{"use strict";const t=function(t){var e,i,a=t.isRange,n=void 0!==a&&a,r=t.isVertical,s=void 0!==r&&r,o=t.popUpOfValue,u=void 0!==o&&o,l=t.popUpIsHided,p=void 0===l||l,d=t.isProgressBar,c=void 0===d||d,v=t.postfix,h=t.description,m=void 0===h?"Range Slider":h,f=t.localeProps,g=t.minValue,b=void 0===g?0:g,y=t.maxValue,_=void 0===y?1e3:y,x=t.step,V=void 0===x?1:x,L=t.value1,S=void 0===L?b:L,w=t.value2,C=void 0===w?_:w,E=t.scaleOfValues,P=void 0===E?0:E,N=_-b;if(b>_)b=(e=[_,b])[0],_=e[1];else if(b===_)throw new Error("minValue shouldn't be equal maxValue");V>0?V>N&&(V=N):V=1,n?(S>C&&(S=(i=[C,S])[0],C=i[1]),S=S<(C=(C=C<_?C:_)>b?C:b)?S:C):S=S<_?S:_,S=S>b?S:b;var A=Math.floor(N/V)+1,O=A>35?35:A;return{minValue:b,maxValue:_,step:V,value1:S,value2:C,isVertical:s,isRange:n,popUpOfValue:u,popUpIsHided:p,scaleOfValues:P=Math.abs(P)>O?O:Math.abs(P),isProgressBar:c,postfix:v,description:m,localeProps:f}},e=function(){function t(){this.scaleDivisions=[],this.scale=document.createElement("div")}return t.prototype.init=function(t){var e=this.scaleDivisions,i=this.scale,a=t.count,n=t.selector,r=t.isVertical;i.classList.add(""+n);for(var s=0;s<a;s+=1){var o=document.createElement("div");o.classList.add(n+"-division"),r&&o.classList.add(n+"-division_vertical"),e.push(o),i.appendChild(o)}},t.prototype.getScale=function(){return this.scale},t.prototype.getScales=function(){return this.scaleDivisions},t.prototype.update=function(t){for(var e=this.scaleDivisions,i=t.parentThumbs,a=t.axis,n=t.thumbSize,r=t.min,s=t.max,o=t.step,u=e.length,l=i.getBoundingClientRect()[a.sizeParent]-n,p=s-r,d=0;d<u;d+=1){var c=void 0,v=.5;0===d?c=0:(c=n/2-parseInt(getComputedStyle(i).borderWidth,10),d===u-1&&(c*=2,v=0,o=p));var h=Math.floor(d/(u-1)*p/o+v)/(1/o)/p;e[d].style[a.styleSelector]=h*l+c+"px",e[d].textContent=(""+Number((p*h+r).toFixed(10))).replace(".",",")}},t}(),i=function(){function t(){this.thumbs=[]}return t.prototype.add=function(t,e,i){void 0===i&&(i=!1);var a=this.thumbs,n=document.createElement("div");n.classList.add(e+"__thumb"),i&&n.classList.add(e+"__thumb_vertical"),t.appendChild(n),a.push(n)},t.prototype.getN=function(t){return this.thumbs[t]},t.prototype.getSize=function(){var t=this.thumbs;return parseInt(getComputedStyle(t[0]).width,10)},t.prototype.getLength=function(){return this.thumbs.length},t.prototype.setStyleN=function(t){var e=this.thumbs,i=t.n,a=t.prop,n=t.value;e[i].style[a]=n+"px"},t.prototype.getStyleN=function(t){var e=this.thumbs,i=t.n,a=t.prop;return e[i].style[a]},t}(),a=function(){function t(t){var e=t.postfix,i=void 0===e?"":e,a=t.localeProps,n=void 0===a?{}:a;this.localeProps=n,this.postfix=i,this.groupValues=[]}return t.prototype.createGroup=function(t){var e=this.postfix,i=this.groupValues,a=t.parent,n=t.selector,r=t.isReadonly,s=void 0!==r&&r,o=t.isHided,u=void 0===o||o,l=t.isVertical,p=void 0!==l&&l,d=document.createElement("div");d.classList.add(n),p&&d.classList.add(n+"_vertical"),s&&!u&&d.classList.add(n+"_visible");var c=document.createElement("input");if(c.type="text",c.classList.add(n+"-input"),c.readOnly=s,d.appendChild(c),e){var v=document.createElement("span");v.classList.add(n+"-postfix"),v.textContent=e,d.appendChild(v)}var h=document.createElement("span");h.classList.add(n+"-hided"),i.push({parent:d,input:c,hided:h}),a.appendChild(d),a.appendChild(h)},t.prototype.init=function(){var t=this,e=this.groupValues;function i(t){var i=e[t].input.value;i&&(e[t].hided.textContent=i,e[t].input.style.width=e[t].hided.offsetWidth+2+"px")}e.forEach((function(a,n){e[n].input.addEventListener("input",i.bind(t,n)),window.addEventListener("load",i.bind(t,n))}))},t.prototype.getValues=function(){return this.groupValues.map((function(t){return t.input}))},t.prototype.updateN=function(t,e){var i,a=this.groupValues,n=this.localeProps;a[t].hided.textContent=e.toLocaleString("ru",n),a[t].input.value=null!==(i=a[t].hided.textContent)&&void 0!==i?i:"",a[t].input.style.width=a[t].hided.offsetWidth+2+"px"},t.prototype.stylizeN=function(t){var e=this.groupValues,i=t.n,a=t.prop,n=t.value;e[i].parent.style[a]=n+"px"},t}(),n=function(){function t(){this.events={}}return t.prototype.on=function(t,e){var i=this.events;return(i[t]||(i[t]=[])).push(e),this},t.prototype.emit=function(t,e){(this.events[t]||[]).forEach((function(t){return t(e)}))},t}();var r,s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const o=function(t){function n(n){var r=t.call(this)||this;r.updateScale=function(){var t=r,e=t.scale,i=t.parentThumbs,a=t.axis,n=t.thumbSize,s=t.min,o=t.max,u=t.step;e.update({parentThumbs:i,axis:a,thumbSize:n,min:s,max:o,step:u})};var s=n.values,o=n.parent,u=n.cfg,l=n.selector,p=u.postfix,d=u.localeProps,c=u.minValue,v=u.maxValue,h=u.step,m=u.popUpOfValue,f=u.isVertical,g=u.description,b=u.popUpIsHided,y=u.isProgressBar,_=u.scaleOfValues;r.selector=l,r.scale=new e,r.outputs=new a({postfix:p,localeProps:d}),r.thumbs=new i,r.min=c,r.max=v,r.step=h,r.length=s.length,r.isPopUp=null!=m&&m,r.isVertical=null!=f&&f,r.isVertical?(o.classList.add(l+"_vertical"),r.axis={sizeParent:"height",styleSelector:"bottom"}):r.axis={sizeParent:"width",styleSelector:"left"},r._renderHeader(o,g);var x=document.createElement("div");x.classList.add(l+"__body"),r.isVertical&&x.classList.add(l+"__body_vertical"),o.appendChild(x),r.parentThumbs=x;for(var V=0;V<r.length;V+=1)r.thumbs.add(x,l,r.isVertical),r.isPopUp&&r.outputs.createGroup({parent:x,selector:l+"__popup",isReadonly:!0,isHided:b,isVertical:r.isVertical});return r.thumbSize=r.thumbs.getSize(),r._renderProgressBar(x,y),r._renderScale(x,_),r.outputs.init(),r.update(s),r}return s(n,t),n.prototype.getThumbSize=function(){return this.thumbSize},n.prototype.update=function(t){for(var e=this,i=e.parentThumbs,a=e.axis,n=e.thumbSize,r=e.thumbs,s=e.min,o=e.max,u=e.outputs,l=e.isPopUp,p=e.sliderRange,d=i.getBoundingClientRect()[a.sizeParent]-n,c=0;c<r.getLength();c+=1){var v=d*((t[c]-s)/(o-s))-parseInt(getComputedStyle(i).borderWidth,10);r.setStyleN({n:c,prop:a.styleSelector,value:v}),u.updateN(c,t[c]),l&&u.stylizeN({n:c,prop:a.styleSelector,value:v+this.getThumbSize()/2})}p&&(1===r.getLength()&&(p.style[a.sizeParent]=parseInt(r.getStyleN({n:0,prop:a.styleSelector}),10)+n/2+"px"),2===r.getLength()&&(p.style[a.styleSelector]=parseInt(r.getStyleN({n:0,prop:a.styleSelector}),10)+n/2+"px",p.style[a.sizeParent]=parseInt(r.getStyleN({n:1,prop:a.styleSelector}),10)-parseInt(r.getStyleN({n:0,prop:a.styleSelector}),10)+"px"))},n.prototype._renderHeader=function(t,e){void 0===e&&(e="");var i=this,a=i.isPopUp,n=i.outputs,r=i.length,s=i.selector,o=document.createElement("div");o.classList.add(s+"__header"),t.appendChild(o);var u=document.createElement("div");if(u.classList.add(s+"__description"),u.textContent=e,o.appendChild(u),!a){var l=document.createElement("div");if(l.classList.add(s+"__output"),o.appendChild(l),n.createGroup({parent:l,selector:s+"__value"}),2===r){var p=document.createElement("div");p.classList.add(s+"__spacer"),p.textContent=" – ",l.appendChild(p),n.createGroup({parent:l,selector:s+"__value"})}}},n.prototype._renderProgressBar=function(t,e){void 0===e&&(e=!1);var i=this.isVertical,a=this.selector;e&&(this.sliderRange=document.createElement("div"),this.sliderRange.classList.add(a+"__range"),i&&this.sliderRange.classList.add(a+"__range_vertical"),t.appendChild(this.sliderRange))},n.prototype._renderScale=function(t,e){void 0===e&&(e=0);var i=this,a=i.isVertical,n=i.scale,r=i.selector;if(!(e<2)){a||t.classList.add(r+"__body_indented"),n.init({count:e,selector:r+"__scale",isVertical:a});var s=n.getScale();t.appendChild(s),this.updateScale()}},n}(n);var u=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}();const l=function(t){function e(e){var i=t.call(this)||this;i._handleListenerUpdate=function(){var t=i,e=t.view,a=t.model;e.update.call(e,a.getValue())};var a=e.model,n=e.view;return i.model=a,i.view=n,i.selector=n.selector,n.isVertical?i.axis={axis:"y",eventAxis:"pageY",sizeParent:"height",start:"top",end:"bottom",dPos:-1}:i.axis={axis:"x",eventAxis:"pageX",sizeParent:"width",start:"left",end:"right",dPos:1},i}return u(e,t),e.prototype.initListeners=function(){var t=this.view;this._initUpdate(),this._initThumb(),this._initOutput(),this._initBody(),t.scale.getScales().length&&this._initScale()},e.prototype._initUpdate=function(){this.model.on("valueChanged",this._handleListenerUpdate),window.addEventListener("resize",this._handleListenerUpdate),window.addEventListener("resize",this.view.updateScale),document.addEventListener("DOMContentLoaded",this._handleListenerUpdate),document.addEventListener("DOMContentLoaded",this.view.updateScale)},e.prototype._initThumb=function(){for(var t=this,e=t.view,i=t.model,a=t.axis,n=t.selector,r=function(t){var r,s,o,u,l=function(l){var p=l[a.eventAxis],d=(p-o)*a.dPos/(e.parentThumbs.getBoundingClientRect()[a.sizeParent]-e.getThumbSize())*(i.getMax()-i.getMin())+u,c=p-o;s||(s=c);var v=c*a.dPos>0&&c>0==s>0;r&&v&&(r=!1,e.thumbs.getN(0).classList.remove(n+"__thumb_active"),e.thumbs.getN(t).classList.add(n+"__thumb_active")),0===t||1===t&&r?i.setValue({val1:d}):1===t&&i.setValue({val2:d})},p=function(){r&&e.thumbs.getN(0).classList.remove(n+"__thumb_active"),e.thumbs.getN(t).classList.remove(n+"__thumb_active"),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",p)};e.thumbs.getN(t).addEventListener("pointerdown",(function(d){o=d[a.eventAxis],u=i.getValue()[t],r=!1,s=0,1===t&&u===i.getValue()[0]?(r=!0,e.thumbs.getN(0).classList.add(n+"__thumb_active")):e.thumbs.getN(t).classList.add(n+"__thumb_active"),document.addEventListener("pointermove",l),document.addEventListener("pointerup",p)}))},s=0;s<e.thumbs.getLength();s+=1)r(s)},e.prototype._initOutput=function(){var t=this,e=this.view,i=this.model;function a(t){var a=e.outputs.getValues()[t].value.replace(/,/g,".");Number.isInteger(Number(a))?0===t?i.setValue({val1:Number(a)}):i.setValue({val2:Number(a)}):e.outputs.updateN(t,i.getValue()[t])}e.outputs.getValues().forEach((function(e,i){e.addEventListener("change",a.bind(t,i))}))},e.prototype._initScale=function(){var t=this,e=this,i=e.view,a=e.model,n=e.selector;i.scale.getScale().addEventListener("click",(function(e){var i,r=e.target;if(r.matches("."+n+"__scale-division")){var s=Number((null!==(i=r.textContent)&&void 0!==i?i:"").replace(",",".")),o=t._isSecondValue(s),u=t._isEqualsValues(s);o||u&&a.getValue()[1]<s?a.setValue({val2:s}):a.setValue({val1:s})}}))},e.prototype._initBody=function(){var t=this,e=this,i=e.model,a=e.view,n=e.axis,r=e.selector;a.parentThumbs.addEventListener("pointerdown",(function(e){var a=e.target;if(a.classList.contains(r+"__body")){var s=a.getBoundingClientRect()[n.end]-a.getBoundingClientRect()[n.start],o=(e[n.axis]-a.getBoundingClientRect()[n.start])/s,u=(i.getMax()-i.getMin())*("y"===n.axis?1-o:o)+i.getMin(),l=t._isSecondValue(u),p=t._isEqualsValues(u);l||p&&i.getValue()[1]<u?i.setValue({val2:u}):i.setValue({val1:u})}}))},e.prototype._isSecondValue=function(t){var e=this.model;return 2===e.getValue().length&&Math.abs(t-e.getValue()[1])<Math.abs(t-e.getValue()[0])},e.prototype._isEqualsValues=function(t){var e=this.model;return 2===e.getValue().length&&Math.abs(t-e.getValue()[1])===Math.abs(t-e.getValue()[0])},e}(n);var p=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}();const d=function(t){function e(e){var i=t.call(this)||this,a=e.step,n=e.min,r=e.max,s=e.value1,o=void 0===s?n:s;return i.thumbs=[],i.step=a,i.thumbs.push({min:n,max:r,value:(r-n)/2}),i.setValue({val1:o}),i}return p(e,t),e.prototype.getMin=function(){return this.thumbs[0].min},e.prototype.getMax=function(){return this.thumbs[0].max},e.prototype.getValue=function(){return this.thumbs.map((function(t){return t.value}))},e.prototype.setValue=function(t){var e=this.thumbs,i=this.step,a=t.isStepping,n=void 0===a||a,r=t.val1;if(null!=r){if(r=null!=r?r:e[0].value,n){var s=r-e[0].min;r=Number(String((Math.floor(s/i+.5)/(1/i)+e[0].min).toFixed(10)))}r=(r=r>e[0].max?e[0].max:r)<e[0].min?e[0].min:r,e[0].value=r}this.emit("valueChanged",{value1:t.val1})},e}(n);var c=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}();const v=function(t){function e(e){var i=t.call(this)||this,a=e.min,n=e.max,r=e.step,s=e.value1,o=void 0===s?a:s,u=e.value2,l=void 0===u?n:u;return i.min=a,i.max=n,i.step=r,i.thumbs=[],i.thumbs.push({min:i.min,max:l,value:i.min}),i.thumbs.push({min:o,max:i.max,value:i.max}),i.setValue({val1:o,val2:l}),i}return c(e,t),e.prototype.getMin=function(){return this.min},e.prototype.getMax=function(){return this.max},e.prototype.getValue=function(){return this.thumbs.map((function(t){return t.value}))},e.prototype.setValue=function(t){var e=this,i=e.thumbs,a=e.step,n=e.min,r=e.max,s=t.isStepping,o=void 0===s||s,u=t.val1,l=t.val2,p=null!=u,d=null!=l;if(p||d){if((u=null!=u?u:i[0].value)>(l=null!=l?l:i[1].value)&&(p&&(u=l),d&&(l=u)),o){var c=u-n,v=l-n;u=Number(String((Math.floor(c/a+.5)/(1/a)+n).toFixed(10))),l=Number(String((Math.floor(v/a+.5)/(1/a)+n).toFixed(10)))}u=(u=u<n?n:u)>r?r:u,l=(l=l<n?n:l)>r?r:l,i[0].value=u,i[0].max=l,i[1].value=l,i[1].min=u}this.emit("valueChanged",{value1:u,value2:l})},e}(n);var h=function(t,e){for(var i=0,a=e.length,n=t.length;i<a;i++,n++)t[n]=e[i];return t};!function(e){e.fn.multislider=function(i){var a=this,n="multislider-v43",r=t(i);if(0===this.length)throw new Error("Not found element for initialization");var s,u=this[0];if(u.childElementCount)for(;u.firstChild;)u.removeChild(u.firstChild);u.classList.remove(n+"_vertical"),u.classList.add(n);var p={min:r.minValue,max:r.maxValue,step:r.step,value1:r.value1};r.isRange?(p.value2=r.value2,s=new v(p)):s=new d(p);var c=new o({values:s.getValue(),parent:u,cfg:r,selector:n});new l({model:s,view:c}).initListeners(),e.fn.multislider.value=function(t){return t&&s.setValue({val1:t.val1,val2:t.val2}),s.getValue()},e.fn.multislider.onChange=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.on("valueChanged",t.bind.apply(t,h([a],e)))}}}(jQuery),$(".js-multislider-v43").each((function(t,e){var i={};e.hasAttribute("data-min-value")&&(i.minValue=Number(e.getAttribute("data-min-value"))),e.hasAttribute("data-max-value")&&(i.maxValue=Number(e.getAttribute("data-max-value"))),e.hasAttribute("data-step")&&(i.step=Number(e.getAttribute("data-step"))),e.hasAttribute("data-value1")&&(i.value1=Number(e.getAttribute("data-value1"))),e.hasAttribute("data-value2")&&(i.value2=Number(e.getAttribute("data-value2"))),e.hasAttribute("data-is-vertical")&&(i.isVertical="true"===e.getAttribute("data-is-vertical")),e.hasAttribute("data-is-range")&&(i.isRange="true"===e.getAttribute("data-is-range")),e.hasAttribute("data-pop-up-of-value")&&(i.popUpOfValue="true"===e.getAttribute("data-pop-up-of-value")),e.hasAttribute("data-scale-of-values")&&(i.scaleOfValues=Number(e.getAttribute("data-scale-of-values"))),e.hasAttribute("data-is-progress-bar")&&(i.isProgressBar="true"===e.getAttribute("data-is-progress-bar")),e.hasAttribute("data-pop-up-is-hided")&&(i.popUpIsHided="true"===e.getAttribute("data-pop-up-is-hided")),e.hasAttribute("data-description")&&(i.description=e.getAttribute("data-description")),e.hasAttribute("data-postfix")&&(i.postfix=e.getAttribute("data-postfix")),$(e).multislider(i)}))})();